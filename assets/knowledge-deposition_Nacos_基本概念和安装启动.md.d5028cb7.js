import{_ as s,c as a,o as n,e as l}from"./app.fa87702c.js";const d=JSON.parse('{"title":"基本概念和安装启动","description":"","frontmatter":{"layout":"doc"},"headers":[{"level":2,"title":"概念","slug":"概念","link":"#概念","children":[]},{"level":2,"title":"启动Nacos","slug":"启动nacos","link":"#启动nacos","children":[]},{"level":2,"title":"开启鉴权","slug":"开启鉴权","link":"#开启鉴权","children":[]}],"relativePath":"knowledge-deposition/Nacos/基本概念和安装启动.md"}'),o={name:"knowledge-deposition/Nacos/基本概念和安装启动.md"},p=l(`<h1 id="基本概念和安装启动" tabindex="-1">基本概念和安装启动 <a class="header-anchor" href="#基本概念和安装启动" aria-hidden="true">#</a></h1><h2 id="概念" tabindex="-1">概念 <a class="header-anchor" href="#概念" aria-hidden="true">#</a></h2><p>Nacos（官方网站：<a href="https://nacos.io/" target="_blank" rel="noreferrer">nacos.io</a>）是一个易于使用的平台，专为动态服务发现、配置和服务管理而设计。它帮助您轻松构建云原生应用程序和微服务平台。</p><p>Nacos提供四个主要功能:</p><ul><li><p>服务发现和服务健康检查</p></li><li><p>动态配置管理</p></li><li><p>动态 DNS 服务</p></li><li><p>服务和元数据管理</p></li></ul><h2 id="启动nacos" tabindex="-1">启动Nacos <a class="header-anchor" href="#启动nacos" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><ul><li>启动nacos有<code>单机模式运行</code>和<code>集群模式</code>，今天只使用<code>单机模式</code></li></ul></div><p>我们使用<code>Docker</code>来搭建<code>Nacos</code>服务，更多配置参考<a href="https://nacos.io/en-us/docs/quick-start-docker.html" target="_blank" rel="noreferrer">quick-start-docker</a></p><p>服务目录如下：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">.</span></span>
<span class="line"><span style="color:#FFCB6B;">├──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.env</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 环境变量文件，用于standalone-mysql-8.yaml读取环境变量</span></span>
<span class="line"><span style="color:#FFCB6B;">├──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">env</span></span>
<span class="line"><span style="color:#FFCB6B;">│</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">├──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql.env</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># mysql 环境变量</span></span>
<span class="line"><span style="color:#FFCB6B;">│</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nacos-standlone-mysql.env</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># nacos相关环境变量</span></span>
<span class="line"><span style="color:#FFCB6B;">├──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">image</span></span>
<span class="line"><span style="color:#FFCB6B;">│</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql8</span></span>
<span class="line"><span style="color:#FFCB6B;">│</span><span style="color:#A6ACCD;">       </span><span style="color:#C3E88D;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Dockerfile</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 启动nacos依赖的mysql镜像的Dockerfile</span></span>
<span class="line"><span style="color:#FFCB6B;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">standalone-mysql-8.yaml</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># docker-compose 启动文件配置</span></span>
<span class="line"></span></code></pre></div><blockquote><p><code>.env</code></p></blockquote><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C3E88D;">NACOS_VERSION=v2.4.0.1</span></span>
<span class="line"></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><ul><li>如果用的版本比<code>v2.4.0.1</code>低，<code>Mac Apple</code>内核可能报错</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">no</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">matching</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">manifest</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">linux/arm64/v8</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">manifest</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">entries</span></span>
<span class="line"></span></code></pre></div><blockquote><p>解决方法如下：</p></blockquote><ul><li>可以在<code>docker-compose.yaml</code>中添加<code>platform: linux/x86_64</code>，（这里我的启动配置是<code>standalone-mysql-8.yaml</code>），<a href="https://github.com/nacos-group/nacos-docker/issues/414" target="_blank" rel="noreferrer">参考链接</a></li></ul><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">nacos</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nacos/nacos-server:\${NACOS_VERSION}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">container_name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">NACOS_STANDALONE_MYSQL</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">restart</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">always</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">platform</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">linux/x86_64</span></span>
<span class="line"></span></code></pre></div><ul><li>或者<code>.env</code>文件指定使用<code>slim</code>版本镜像，<a href="https://github.com/nacos-group/nacos-docker/issues/356" target="_blank" rel="noreferrer">参考链接</a></li></ul><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C3E88D;">NACOS_VERSION=v2.3.1-slim</span></span>
<span class="line"></span></code></pre></div></div><blockquote><p><code>env/mysql.env</code></p></blockquote><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C3E88D;">MYSQL_ROOT_PASSWORD=root</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># root用户密码</span></span>
<span class="line"><span style="color:#C3E88D;">MYSQL_DATABASE=nacos_devtest</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 启动nacos后，创建的数据库名称</span></span>
<span class="line"><span style="color:#C3E88D;">MYSQL_USER=nacos</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 创建的用户名称</span></span>
<span class="line"><span style="color:#C3E88D;">MYSQL_PASSWORD=nacos</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 创建的nacos用户密码</span></span>
<span class="line"><span style="color:#C3E88D;">LANG=C.UTF-8</span></span>
<span class="line"></span></code></pre></div><blockquote><p><code>env/nacos-standlone-mysql.env</code></p></blockquote><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C3E88D;">PREFER_HOST_MODE=hostname</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 优先主机模式</span></span>
<span class="line"><span style="color:#C3E88D;">MODE=standalone</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 当前模式</span></span>
<span class="line"><span style="color:#C3E88D;">SPRING_DATASOURCE_PLATFORM=mysql</span></span>
<span class="line"><span style="color:#C3E88D;">MYSQL_SERVICE_HOST=mysql</span></span>
<span class="line"><span style="color:#C3E88D;">MYSQL_SERVICE_DB_NAME=nacos_devtest</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># mysql 数据库名称</span></span>
<span class="line"><span style="color:#C3E88D;">MYSQL_SERVICE_PORT=3306</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 数据库端口</span></span>
<span class="line"><span style="color:#C3E88D;">MYSQL_SERVICE_USER=nacos</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 数据库用户名</span></span>
<span class="line"><span style="color:#C3E88D;">MYSQL_SERVICE_PASSWORD=nacos</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 数据库密码</span></span>
<span class="line"><span style="color:#C3E88D;">MYSQL_SERVICE_DB_PARAM=characterEncoding=utf8&amp;connectTimeout=1000&amp;socketTimeout=3000&amp;autoReconnect=true&amp;useUnicode=true&amp;useSSL=false&amp;serverTimezone=Asia/Shanghai&amp;allowPublicKeyRetrieval=true</span></span>
<span class="line"><span style="color:#C3E88D;">NACOS_AUTH_IDENTITY_KEY=2222</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 鉴权用的先忽略</span></span>
<span class="line"><span style="color:#C3E88D;">NACOS_AUTH_IDENTITY_VALUE=2xxx</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 鉴权用的先忽略</span></span>
<span class="line"><span style="color:#C3E88D;">NACOS_AUTH_TOKEN=SecretKey012345678901234567890123456789012345678901234567890123456789</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 鉴权用的先忽略</span></span>
<span class="line"></span></code></pre></div><blockquote><p><code>image/mysql8/Dockerfile</code></p></blockquote><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C3E88D;">FROM mysql:latest</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 将 https://raw.githubusercontent.com/alibaba/nacos/develop/distribution/conf/mysql-schema.sql </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 这个远程文件下载并添加到镜像中的 /docker-entrypoint-initdb.d/ 目录下，并将其命名为 nacos-mysql.sql</span></span>
<span class="line"><span style="color:#C3E88D;">ADD https://raw.githubusercontent.com/alibaba/nacos/develop/distribution/conf/mysql-schema.sql /docker-entrypoint-initdb.d/nacos-mysql.sql</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 将 /docker-entrypoint-initdb.d/nacos-mysql.sql 文件的所有者和所属组更改为 mysql 用户和 mysql 组</span></span>
<span class="line"><span style="color:#C3E88D;">RUN chown -R mysql:mysql /docker-entrypoint-initdb.d/nacos-mysql.sql</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 对外暴露 3306端口</span></span>
<span class="line"><span style="color:#C3E88D;">EXPOSE 3306</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 启动 MySQL 服务器，并设置字符集为 utf8mb4 和排序规则为 utf8mb4_unicode_ci</span></span>
<span class="line"><span style="color:#C3E88D;">CMD [&quot;mysqld&quot;, &quot;--character-set-server=utf8mb4&quot;, &quot;--collation-server=utf8mb4_unicode_ci&quot;]</span></span>
<span class="line"></span></code></pre></div><blockquote><p><code>standalone-mysql-8.yaml</code></p></blockquote><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F07178;">version</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2.6</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">services</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mysql</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">container_name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MYSQL_NACOS</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">restart</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">always</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">build</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">context</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">dockerfile</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./image/mysql8/Dockerfile</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">env_file</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./env/mysql.env</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">volumes</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./mysql:/var/lib/mysql</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">ports</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1004:3306</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># 通过命令检查容器是否健康运行</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">healthcheck</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">CMD</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mysqladmin</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ping</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-h</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">localhost</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">interval</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">5s</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">timeout</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">10s</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">retries</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">nacos</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nacos/nacos-server:\${NACOS_VERSION}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">container_name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">NACOS_STANDALONE_MYSQL</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">restart</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">always</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">env_file</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./env/nacos-standlone-mysql.env</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">volumes</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./standalone-logs/:/home/nacos/logs</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">ports</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8848:8848</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">9848:9848</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">depends_on</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">mysql</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#F07178;">condition</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">service_healthy</span></span>
<span class="line"></span></code></pre></div><p>启动<code>nacos</code></p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker-compose</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">standalone-mysql-8.yaml</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">up</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span></span>
<span class="line"></span></code></pre></div><p>然后访问<code>http://localhost:8848/nacos</code>就可以看到主界面</p><blockquote><p>此时可以看到主界面会有一个提示</p></blockquote><div class="warning custom-block"><p class="custom-block-title">WARNING</p><ul><li>当前集群没有开启鉴权，请参考文档开启鉴权~</li></ul></div><h2 id="开启鉴权" tabindex="-1">开启鉴权 <a class="header-anchor" href="#开启鉴权" aria-hidden="true">#</a></h2><p>详细内容参考<a href="https://nacos.io/en-us/docs/v2/guide/user/auth.html" target="_blank" rel="noreferrer">Authentication</a></p><blockquote><p>修改<code>env/nacos-standlone-mysql.env</code>，修改/添加下面的字段</p></blockquote><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 其他字段</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># xxx</span></span>
<span class="line"><span style="color:#C3E88D;">NACOS_AUTH_ENABLE=true</span></span>
<span class="line"><span style="color:#C3E88D;">NACOS_AUTH_IDENTITY_KEY=ZjcqSyNiIStfIjpNTEQ4OXkyM2tqYmtqQVMoKl5ZQCNSSktCTkNVKldUKiYjXkhUUEdJTm91NDUzeTUz</span></span>
<span class="line"><span style="color:#C3E88D;">NACOS_AUTH_IDENTITY_VALUE=Zmprc2IwJiomIyVCSkJGSSZXVDNia2p0MjNpdTU2dHlzamtkYmdoZWdyM3QzNHQzNA==</span></span>
<span class="line"><span style="color:#C3E88D;">NACOS_AUTH_TOKEN=OSgsazJIODlVODJhLXozMzM1aGpzMSpeJisyYlZIX0A4ODIxQkZLREYtKSMqJQ==</span></span>
<span class="line"></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><ul><li><code>NACOS_AUTH_IDENTITY_KEY</code>、<code>NACOS_AUTH_IDENTITY_VALUE</code>、<code>NACOS_AUTH_TOKEN</code>要使用<code>Base64</code>编码的字符串，字符串长度最少<code>32</code>位c</li></ul></div><p>然后重启<code>docker</code>服务</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker-compose</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">xxx.yml</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">down</span></span>
<span class="line"><span style="color:#FFCB6B;">docker-compose</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">xxx.yml</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">up</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span></span>
<span class="line"></span></code></pre></div><p>然后清空<code>http://localhost:8848/nacos</code>页面的<code>localStorage</code>的值，刷新页面，会出现登录界面</p><blockquote><p>默认：用户名：<code>nacos</code>，密码：<code>nacos</code></p></blockquote><p>登录成功就可以啦</p>`,36),e=[p];function c(t,r,y,i,C,D){return n(),a("div",null,e)}const F=s(o,[["render",c]]);export{d as __pageData,F as default};
