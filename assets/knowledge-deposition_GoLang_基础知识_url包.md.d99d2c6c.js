import{_ as s,c as n,o as a,e as l}from"./app.40d1c90a.js";const C=JSON.parse('{"title":"url包","description":"","frontmatter":{"layout":"doc"},"headers":[{"level":2,"title":"url.Parse","slug":"url-parse","link":"#url-parse","children":[]},{"level":2,"title":"url.ParseRequestURI","slug":"url-parserequesturi","link":"#url-parserequesturi","children":[]}],"relativePath":"knowledge-deposition/GoLang/基础知识/url包.md"}'),p={name:"knowledge-deposition/GoLang/基础知识/url包.md"},o=l(`<h1 id="url包" tabindex="-1">url包 <a class="header-anchor" href="#url包" aria-hidden="true">#</a></h1><p><code>net/url</code>包在<code>Go</code>语言中用于解析和构建<code>URL</code></p><h2 id="url-parse" tabindex="-1"><code>url.Parse</code> <a class="header-anchor" href="#url-parse" aria-hidden="true">#</a></h2><blockquote><p><code>url.Parse</code>方法用于解析一个<code>URL字符串</code>并返回一个<code>*url.URL</code>对象。<code>url.URL</code>对象如下：</p></blockquote><div class="language-Go"><button title="Copy Code" class="copy"></button><span class="lang">Go</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// URL&#39;s String method uses the EscapedPath method to obtain the path.</span></span>
<span class="line"><span style="color:#89DDFF;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">URL</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">struct</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	Scheme      </span><span style="color:#C792EA;">string</span></span>
<span class="line"><span style="color:#A6ACCD;">	Opaque      </span><span style="color:#C792EA;">string</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">// encoded opaque data</span></span>
<span class="line"><span style="color:#A6ACCD;">	User        </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">Userinfo </span><span style="color:#676E95;font-style:italic;">// username and password information</span></span>
<span class="line"><span style="color:#A6ACCD;">	Host        </span><span style="color:#C792EA;">string</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">// host or host:port</span></span>
<span class="line"><span style="color:#A6ACCD;">	Path        </span><span style="color:#C792EA;">string</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">// path (relative paths may omit leading slash)</span></span>
<span class="line"><span style="color:#A6ACCD;">	RawPath     </span><span style="color:#C792EA;">string</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">// encoded path hint (see EscapedPath method)</span></span>
<span class="line"><span style="color:#A6ACCD;">	OmitHost    </span><span style="color:#C792EA;">bool</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;">// do not emit empty host (authority)</span></span>
<span class="line"><span style="color:#A6ACCD;">	ForceQuery  </span><span style="color:#C792EA;">bool</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;">// append a query (&#39;?&#39;) even if RawQuery is empty</span></span>
<span class="line"><span style="color:#A6ACCD;">	RawQuery    </span><span style="color:#C792EA;">string</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">// encoded query values, without &#39;?&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">	Fragment    </span><span style="color:#C792EA;">string</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">// fragment for references, without &#39;#&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">	RawFragment </span><span style="color:#C792EA;">string</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">// encoded fragment hint (see EscapedFragment method)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><blockquote><p>示例代码如下：</p></blockquote><div class="language-Go"><button title="Copy Code" class="copy"></button><span class="lang">Go</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">package</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">fmt</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">net/url</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">func</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">parseFn</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	rawURL </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://example.com/path?name=张三#section</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#676E95;font-style:italic;">//rawURL := &quot;https://example.com:8080/#/before/error?name=%E5%BC%A0%E4%B8%89&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">	parsedURL</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> _ </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> url</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Parse</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">rawURL</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    fmt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">parsedURL:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> parsedURL</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">	fmt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Scheme:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> parsedURL</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Scheme</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">	fmt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Host:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> parsedURL</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Host</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">	fmt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Path:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> parsedURL</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Path</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">	fmt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">RawQuery:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> parsedURL</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">RawQuery</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">	fmt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Fragment:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> parsedURL</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Fragment</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	rawURL := &quot;https://example.com/path?name=张三#section&quot; 打印如下</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    parsedURL: https://example.com/path?name=张三#section</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	Scheme: https</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	Host: example.com</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	Path: /path</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	RawQuery: name=张三</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	Fragment: section</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	*/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	rawURL := &quot;https://example.com:8080/#/before/error?name=%E5%BC%A0%E4%B8%89&quot; 打印如下</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    parsedURL: https://example.com:8080/#/before/error?name=%E5%BC%A0%E4%B8%89</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	Scheme: https</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	Host: example.com:8080</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	Path: /</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	RawQuery:</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	Fragment: /before/error?name=张三</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	*/</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">func</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#82AAFF;">parseFn</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="url-parserequesturi" tabindex="-1"><code>url.ParseRequestURI</code> <a class="header-anchor" href="#url-parserequesturi" aria-hidden="true">#</a></h2><blockquote><p><code>url.ParseRequestURI</code>类似于<code>url.Parse</code>，但它更严格地遵循<a href="https://datatracker.ietf.org/doc/html/rfc3986" target="_blank" rel="noreferrer">RFC 3986</a>规范，用于解析<code>HTTP</code>请求<code>URI</code></p></blockquote><div class="language-Go"><button title="Copy Code" class="copy"></button><span class="lang">Go</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">package</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">fmt</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">net/url</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">func</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">parseRequestFn</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#676E95;font-style:italic;">//rawURL := &quot;https://example.com/path?name=张三#section&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">	rawURL </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://example.com:8080/#/before/error?name=%E5%BC%A0%E4%B8%89</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">	parsedURL</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> _ </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> url</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ParseRequestURI</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">rawURL</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">	fmt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">parsedURL:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> parsedURL</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">	fmt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Scheme:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> parsedURL</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Scheme</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">	fmt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Host:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> parsedURL</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Host</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">	fmt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Path:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> parsedURL</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Path</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">	fmt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">RawQuery:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> parsedURL</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">RawQuery</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">	fmt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Fragment:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> parsedURL</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Fragment</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	rawURL := &quot;https://example.com/path?name=张三#section&quot; 打印如下</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	parsedURL: https://example.com/path?name=张三#section</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	Scheme: https</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	Host: example.com</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	Path: /path</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	RawQuery: name=张三#section</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	*/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	rawURL := &quot;https://example.com:8080/#/before/error?name=%E5%BC%A0%E4%B8%89&quot; 打印如下</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	parsedURL: https://example.com:8080/%23/before/error?name=%E5%BC%A0%E4%B8%89</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	Scheme: https</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	Host: example.com:8080</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	Path: /#/before/error</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	RawQuery: name=%E5%BC%A0%E4%B8%89</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	Fragment:</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	*/</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">func</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#82AAFF;">parseRequestFn</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div>`,10),e=[o];function t(c,r,y,D,F,i){return a(),n("div",null,e)}const u=s(p,[["render",t]]);export{C as __pageData,u as default};
