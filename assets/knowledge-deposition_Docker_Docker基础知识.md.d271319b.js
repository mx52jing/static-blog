import{_ as s,c as a,o as l,a as e}from"./app.e405e0c8.js";const n="/static-blog/image/docker/image_none.png",o="/static-blog/image/docker/image_middle.png",p="/static-blog/image/docker/dorit.png",u=JSON.parse('{"title":"Docker基础知识","description":"","frontmatter":{"layout":"doc"},"headers":[{"level":2,"title":"基本概念","slug":"基本概念","link":"#基本概念","children":[{"level":3,"title":"Docker镜像(Image)","slug":"docker镜像-image","link":"#docker镜像-image","children":[]},{"level":3,"title":"Docker容器(Container)","slug":"docker容器-container","link":"#docker容器-container","children":[]},{"level":3,"title":"Docker仓库(Repository)","slug":"docker仓库-repository","link":"#docker仓库-repository","children":[]},{"level":3,"title":"安装","slug":"安装","link":"#安装","children":[]}]},{"level":2,"title":"查看docker占用磁盘空间信息","slug":"查看docker占用磁盘空间信息","link":"#查看docker占用磁盘空间信息","children":[]},{"level":2,"title":"镜像","slug":"镜像","link":"#镜像","children":[{"level":3,"title":"拉取镜像","slug":"拉取镜像","link":"#拉取镜像","children":[]},{"level":3,"title":"列出镜像","slug":"列出镜像","link":"#列出镜像","children":[]},{"level":3,"title":"虚悬镜像","slug":"虚悬镜像","link":"#虚悬镜像","children":[]},{"level":3,"title":"中间层镜像","slug":"中间层镜像","link":"#中间层镜像","children":[]},{"level":3,"title":"删除镜像","slug":"删除镜像","link":"#删除镜像","children":[]}]},{"level":2,"title":"容器","slug":"容器","link":"#容器","children":[{"level":3,"title":"启动容器","slug":"启动容器","link":"#启动容器","children":[]},{"level":3,"title":"查看运行中的容器：","slug":"查看运行中的容器","link":"#查看运行中的容器","children":[]},{"level":3,"title":"终止容器","slug":"终止容器","link":"#终止容器","children":[]},{"level":3,"title":"重启容器","slug":"重启容器","link":"#重启容器","children":[]},{"level":3,"title":"进入运行中的容器","slug":"进入运行中的容器","link":"#进入运行中的容器","children":[]},{"level":3,"title":"导出、导入容器","slug":"导出、导入容器","link":"#导出、导入容器","children":[]},{"level":3,"title":"删除容器","slug":"删除容器","link":"#删除容器","children":[]}]}],"relativePath":"knowledge-deposition/Docker/Docker基础知识.md"}'),c={name:"knowledge-deposition/Docker/Docker基础知识.md"},t=e(`<h1 id="docker基础知识" tabindex="-1">Docker基础知识 <a class="header-anchor" href="#docker基础知识" aria-hidden="true">#</a></h1><h2 id="基本概念" tabindex="-1">基本概念 <a class="header-anchor" href="#基本概念" aria-hidden="true">#</a></h2><p>Docker包括3个基本概念：</p><ul><li><p><code>镜像(Image)</code></p></li><li><p><code>容器(Container)</code></p></li><li><p><code>仓库(Repository)</code></p></li></ul><h3 id="docker镜像-image" tabindex="-1">Docker镜像(Image) <a class="header-anchor" href="#docker镜像-image" aria-hidden="true">#</a></h3><ul><li><p><code>Docker</code>镜像是一个特殊的<code>文件系统</code>，提供容器运行时所需的<code>仓库、资源、配置</code>等文件以及容器运行所需参数。</p></li><li><p>镜像是分层的，每一层叫做一个镜像层，使用<code>docker history [IMAGE ID]</code>查看</p></li><li><p>镜像是有<code>依赖关系</code>的，上层的镜像依赖下层的镜像，这样设计的好处是，镜像可以复用</p></li><li><p>镜像是<code>只读</code>的，下层的镜像层<code>不会被修改</code>，只能<code>新增镜像层</code>，所以会越来越多</p></li></ul><p><strong>获取镜像的几种方式</strong></p><ul><li><p>从仓库获取(<code>docker pull</code>)</p></li><li><p>基于<code>Dockerfile</code>使用<code>docker build</code>命令构建</p></li><li><p>文件载入<code>docker load</code></p></li></ul><h3 id="docker容器-container" tabindex="-1">Docker容器(Container) <a class="header-anchor" href="#docker容器-container" aria-hidden="true">#</a></h3><p>容器的特点：</p><ul><li><p>容器是<code>基于镜像来</code>运行的，<code>docker run</code>命令使用<code>image</code>启动了一个运行中的<code>系统</code>，就是<code>container(容器)</code>。</p></li><li><p>容器是可读写的</p></li><li><p>在容器里面进行的操作不会影响<code>image</code>，删除文件也只是在容器里面标记为已删除</p></li><li><p>容器删除，则保存在容器中的数据也会被删除，容器停止，数据不会被删除</p></li><li><p>容器只有被保存成镜像才能被移植到其他地方</p></li></ul><h3 id="docker仓库-repository" tabindex="-1">Docker仓库(Repository) <a class="header-anchor" href="#docker仓库-repository" aria-hidden="true">#</a></h3><ul><li><p><code>Docker</code>的仓库和<code>git</code>仓库差不多，拥有<code>tag</code>，<code>仓库名</code>，在本地构建完镜像以后，就可以通过仓库分发</p></li><li><p><a href="https://hub.docker.com/" target="_blank" rel="noreferrer">官方仓库</a></p></li><li><p><a href="https://dev.aliyun.com/search.html" target="_blank" rel="noreferrer">阿里云</a></p></li></ul><h3 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-hidden="true">#</a></h3><ul><li>进入<a href="https://www.docker.com/" target="_blank" rel="noreferrer">官网</a>安装系统对应的客户端</li></ul><p><strong>如果需要配置镜像源，可以在客户端设置中配置，如下：</strong></p><p><code>任务栏</code> =&gt; <code>Perferences</code> =&gt; <code>Docker Engine</code> 配置，设置完后点击<code>Apply &amp; restart</code>按钮重启</p><p>执行<code>docker info</code>可以查看<code>Registry Mirrors</code>查询镜像源是否配置成功</p><h2 id="查看docker占用磁盘空间信息" tabindex="-1">查看docker占用磁盘空间信息 <a class="header-anchor" href="#查看docker占用磁盘空间信息" aria-hidden="true">#</a></h2><ul><li>查看镜像、容器、数据卷所占用空间</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">system</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">df</span></span>
<span class="line"></span></code></pre></div><blockquote><p>如下所示:</p></blockquote><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">TYPE</span><span style="color:#A6ACCD;">            </span><span style="color:#C3E88D;">TOTAL</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">ACTIVE</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">SIZE</span><span style="color:#A6ACCD;">      </span><span style="color:#C3E88D;">RECLAIMABLE</span></span>
<span class="line"><span style="color:#FFCB6B;">Images</span><span style="color:#A6ACCD;">          </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">         </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">         </span><span style="color:#C3E88D;">565.8MB</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">0B</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">%</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">Containers</span><span style="color:#A6ACCD;">      </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">         </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">         </span><span style="color:#C3E88D;">14B</span><span style="color:#A6ACCD;">       </span><span style="color:#C3E88D;">0B</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">%</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">Local</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Volumes</span><span style="color:#A6ACCD;">   </span><span style="color:#F78C6C;">49</span><span style="color:#A6ACCD;">        </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">         </span><span style="color:#C3E88D;">2.403GB</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">1.99GB</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">82</span><span style="color:#A6ACCD;">%</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">Build</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Cache</span><span style="color:#A6ACCD;">     </span><span style="color:#F78C6C;">26</span><span style="color:#A6ACCD;">        </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">         </span><span style="color:#C3E88D;">417MB</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">417MB</span></span>
<span class="line"></span></code></pre></div><ul><li>查看其他更多信息使用<code>docker system --help</code>查看</li></ul><h2 id="镜像" tabindex="-1">镜像 <a class="header-anchor" href="#镜像" aria-hidden="true">#</a></h2><h3 id="拉取镜像" tabindex="-1">拉取镜像 <a class="header-anchor" href="#拉取镜像" aria-hidden="true">#</a></h3><ul><li><p>使用<code>docker pull</code>拉取镜像，例如<code>docker pull nginx</code>，具体参数可使用<code>docker pull --help</code>查看</p></li><li><p>拉取镜像前可以先使用<code>docker search IMAGE_NAME</code>查询一下远程仓库是否有该镜像</p></li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pull</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">OPTIONS</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">NAME[:TAG</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">@DIGEST</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"></span></code></pre></div><h3 id="列出镜像" tabindex="-1">列出镜像 <a class="header-anchor" href="#列出镜像" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">images</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">image</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ls</span></span>
<span class="line"></span></code></pre></div><blockquote><p>展示如下：</p></blockquote><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">REPOSITORY</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">TAG</span><span style="color:#A6ACCD;">             </span><span style="color:#C3E88D;">IMAGE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ID</span><span style="color:#A6ACCD;">       </span><span style="color:#C3E88D;">CREATED</span><span style="color:#A6ACCD;">        </span><span style="color:#C3E88D;">SIZE</span></span>
<span class="line"><span style="color:#FFCB6B;">mysql</span><span style="color:#A6ACCD;">        </span><span style="color:#C3E88D;">latest</span><span style="color:#A6ACCD;">          </span><span style="color:#C3E88D;">c7c54c29e20d</span><span style="color:#A6ACCD;">   </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">months</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ago</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">544MB</span></span>
<span class="line"><span style="color:#FFCB6B;">nginx</span><span style="color:#A6ACCD;">        </span><span style="color:#C3E88D;">1.23.1-alpine</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">fb0ef98b42c3</span><span style="color:#A6ACCD;">   </span><span style="color:#F78C6C;">7</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">months</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ago</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">22.1MB</span></span>
<span class="line"></span></code></pre></div><table><thead><tr><th style="text-align:center;">name</th><th style="text-align:center;">description</th></tr></thead><tbody><tr><td style="text-align:center;">REPOSITORY</td><td style="text-align:center;">仓库名</td></tr><tr><td style="text-align:center;">TAG</td><td style="text-align:center;">标签</td></tr><tr><td style="text-align:center;">IMAGE ID</td><td style="text-align:center;">镜像 ID</td></tr><tr><td style="text-align:center;">CREATED</td><td style="text-align:center;">创建时间</td></tr><tr><td style="text-align:center;">SIZE</td><td style="text-align:center;">占用空间</td></tr></tbody></table><h3 id="虚悬镜像" tabindex="-1">虚悬镜像 <a class="header-anchor" href="#虚悬镜像" aria-hidden="true">#</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>虚悬镜像是指原本是有名称的，当<code>官方更新镜像版本</code>之后，使用<code>docker pull</code>时，镜像名称被转移到新镜像身上，旧的镜像名称就成了<code>none</code>，<code>docker build</code>也会出现此类情况。由于 新旧镜像同名，就镜像名称名称被取消成为<code>none</code>，称之为<code>虚悬镜像</code>。</p></div><p><img src="`+n+`" alt=""></p><p>如图上面的<code>&lt;none&gt;</code>镜像就是<code>虚悬镜像</code></p><h4 id="查看虚悬镜像" tabindex="-1">查看虚悬镜像 <a class="header-anchor" href="#查看虚悬镜像" aria-hidden="true">#</a></h4><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">image</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ls</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dangling=</span><span style="color:#89DDFF;">true</span></span>
<span class="line"></span></code></pre></div><h4 id="删除虚悬镜像" tabindex="-1">删除虚悬镜像 <a class="header-anchor" href="#删除虚悬镜像" aria-hidden="true">#</a></h4><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">image</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">prune</span></span>
<span class="line"></span></code></pre></div><h3 id="中间层镜像" tabindex="-1">中间层镜像 <a class="header-anchor" href="#中间层镜像" aria-hidden="true">#</a></h3><ul><li><p>为了<code>加速镜像构建</code>、<code>重复利用资源</code>，<code>Docker</code>会利用<code>中间层镜像</code>，所以在使用一段时间后，可能会看到一些依赖的中间层镜像</p></li><li><p>默认的<code>docker image ls</code>列表中只会显示<code>顶层镜像</code>，如果希望显示<code>包括中间层镜像在内的所有镜像</code>的话，需要加<code>-a</code>参数。</p></li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">image</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ls</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span></span>
<span class="line"></span></code></pre></div><p><img src="`+o+`" alt=""></p><p>这里面的虚悬镜像很多是中间层镜像，不要轻易删除。</p><h3 id="删除镜像" tabindex="-1">删除镜像 <a class="header-anchor" href="#删除镜像" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">image</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">IMAGE</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">IMAGE ...</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><p><code>IMAGE</code>可以是<code>镜像ID</code>、<code>镜像名称</code>、<code>镜像摘要</code></p><ul><li>更精确的是使用**<code>镜像摘要</code>**删除镜像</li></ul><p>使用<code>docker image ls --digests</code>列出本地<code>Docker</code>镜像的<code>摘要信息（digests）</code>，使用<code>docker image rm DIGEST</code></p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">REPOSITORY</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">TAG</span><span style="color:#A6ACCD;">             </span><span style="color:#C3E88D;">DIGEST</span><span style="color:#A6ACCD;">                                                                    </span><span style="color:#C3E88D;">IMAGE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ID</span><span style="color:#A6ACCD;">       </span><span style="color:#C3E88D;">CREATED</span><span style="color:#A6ACCD;">        </span><span style="color:#C3E88D;">SIZE</span></span>
<span class="line"><span style="color:#FFCB6B;">mysql</span><span style="color:#A6ACCD;">        </span><span style="color:#C3E88D;">latest</span><span style="color:#A6ACCD;">          </span><span style="color:#C3E88D;">sha256:2596158f73606ba571e1af29a9c32bec5dc021a2495e4a70d194a9b49664f4d9</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">c7c54c29e20d</span><span style="color:#A6ACCD;">   </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">months</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ago</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">544MB</span></span>
<span class="line"><span style="color:#FFCB6B;">nginx</span><span style="color:#A6ACCD;">        </span><span style="color:#C3E88D;">1.23.1-alpine</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">sha256:b87c350e6c69e0dc7069093dcda226c4430f3836682af4f649f2af9e9b5f1c74</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">fb0ef98b42c3</span><span style="color:#A6ACCD;">   </span><span style="color:#F78C6C;">7</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">months</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ago</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">22.1MB</span></span>
<span class="line"></span></code></pre></div><h2 id="容器" tabindex="-1">容器 <a class="header-anchor" href="#容器" aria-hidden="true">#</a></h2><h3 id="启动容器" tabindex="-1">启动容器 <a class="header-anchor" href="#启动容器" aria-hidden="true">#</a></h3><p>两种方式：</p><h4 id="基于镜像新建容器启动" tabindex="-1">基于镜像新建容器启动 <a class="header-anchor" href="#基于镜像新建容器启动" aria-hidden="true">#</a></h4><p>使用<code>docker run</code>新建并启动容器</p><ul><li><code>-d</code> 守护状态运行，运行后命令行就会释放出来，可以做其他事</li><li><code>-it</code> 交互状态行运行，一般<code>-it</code>用作进入容器内部进行操作</li><li><code>--name</code> 容器的别名，例如<code>my_nginx</code></li><li><code>--link</code> 通过别名访问，例如<code>web/www</code></li><li><code>-e</code> 添加环境变量，例如<code>MY_ENV=hello</code></li><li><code>-p</code> 端口映射，例如<code>8080:80</code></li><li><code>--entrypoint</code> 容器起来首先执行的命令</li><li><code>-v</code> 挂载的数据卷设置<code>--volumns</code></li><li><code>--network</code> 指定网络<code>bridge、host、overlay</code></li><li><code>--ip</code> 指定容器ip</li></ul><p><code>-d</code>和<code>-it</code>运行效果不同之处如下：</p><p><img src="`+p+`" alt="dorit"></p><h4 id="重启终止状态的容器" tabindex="-1">重启终止状态的容器 <a class="header-anchor" href="#重启终止状态的容器" aria-hidden="true">#</a></h4><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span></span>
<span class="line"></span></code></pre></div><p>使用<code>start</code>命令的前提是容器<code>【已经生成】</code>并且<code>【已经停止运行】</code></p><p>更多选项通过<code>docker container start --help</code>查看</p><h3 id="查看运行中的容器" tabindex="-1">查看运行中的容器： <a class="header-anchor" href="#查看运行中的容器" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ps</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 或者 </span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ls</span></span>
<span class="line"></span></code></pre></div><h3 id="终止容器" tabindex="-1">终止容器 <a class="header-anchor" href="#终止容器" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stop</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">OPTIONS</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CONTAINER</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">CONTAINER...</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><ul><li><p>通过<code>docker container stop --help</code>查看更多帮助</p></li><li><p><code>终止状态的容器</code>可以用 <strong><code>docker container ls -a</code></strong> 命令看到</p></li></ul><h3 id="重启容器" tabindex="-1">重启容器 <a class="header-anchor" href="#重启容器" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">restart</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">OPTIONS</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CONTAINER</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">CONTAINER...</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><ul><li>通过<code>docker container restart --help</code>查看更多帮助</li></ul><h3 id="进入运行中的容器" tabindex="-1">进入运行中的容器 <a class="header-anchor" href="#进入运行中的容器" aria-hidden="true">#</a></h3><p>进入运行中的容器：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exec</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-it</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ID</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bash</span></span>
<span class="line"></span></code></pre></div><ul><li>详细输入<code>docker exec --help</code>查看</li></ul><h3 id="导出、导入容器" tabindex="-1">导出、导入容器 <a class="header-anchor" href="#导出、导入容器" aria-hidden="true">#</a></h3><h4 id="导出容器" tabindex="-1">导出容器 <a class="header-anchor" href="#导出容器" aria-hidden="true">#</a></h4><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">OPTIONS</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CONTAINER</span></span>
<span class="line"></span></code></pre></div><h4 id="导入容器" tabindex="-1">导入容器 <a class="header-anchor" href="#导入容器" aria-hidden="true">#</a></h4><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">OPTIONS</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">file</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">URL</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">REPOSITORY</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">:TAG</span><span style="color:#89DDFF;">]]</span></span>
<span class="line"></span></code></pre></div><h3 id="删除容器" tabindex="-1">删除容器 <a class="header-anchor" href="#删除容器" aria-hidden="true">#</a></h3><ul><li>只能删除<code>已停止</code>的容器，如果要删除运行中的容器，需要添加<code>-f</code>参数</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ID</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">容器ID</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><ul><li>删除<code>已停止/运行中</code>的容器</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ID</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">容器ID</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><p><code>容器ID</code>可以通过以下命令获得：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ps</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ls</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># 获取所有运行中的容器</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ps</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ls</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 获取本机所有容器</span></span>
<span class="line"></span></code></pre></div><ul><li>清理所有<code>处于终止状态</code>的容器</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">prune</span></span>
<span class="line"></span></code></pre></div><ul><li>强行删除所有容器(运行中/已停止的都会全部被删除)</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ls</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-q</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div>`,92),r=[t];function i(d,C,y,D,A,h){return l(),a("div",null,r)}const F=s(c,[["render",i]]);export{u as __pageData,F as default};
